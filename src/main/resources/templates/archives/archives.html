<!DOCTYPE html>
<html id="jb3-posts-container">
<head>
<title>jb3 archives</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noindex,nofollow">
<link rel="stylesheet" type="text/css" href="/webjars/blaze/3.2.0/dist/blaze.min.css">
<link rel="stylesheet" type="text/css" href="/assets/common/reset.css">
<link rel="stylesheet" type="text/css" href="/assets/common/posts.css">
<link rel="stylesheet" type="text/css" href="/assets/archives/archives.css">
<link rel="icon" type="image/png" href="/favicon.png">
</head>
<body class="c-text">
	{{> partials/header}}
	<main class="o-container o-container--large">
	<section class="u-letter-box--medium">
		<form id="search-form" class="c-fieldset">
			<input type="hidden" name="page" value="{{rq.page}}">
			<input type="hidden" name="pageSize" value="{{rq.pageSize}}">
			<input class="c-field" type="text" name="messageFilter" placeholder="search terms" value="{{rq.messageFilter}}">
			<div class="o-form-element">
				<label for="since-group" class="c-label ">Since:</label>
				<div id="since-group" class="c-input-group">
					<div class="o-field">
						<input class="c-field c-field--label" type="date" name="since" value="{{rq.since}}" placeholder="2017-01-17">
					</div>
					<div class="o-field">
						<input class="c-field c-field--label" type="time" step="1" name="sinceTime" value="{{rq.sinceTime}}" placeholder="08:00:00">
					</div>
				</div>
			</div>
			<div class="o-form-element">
				<label for="until-group" class="c-label ">until:</label>
				<div id="until-group" class="c-input-group">
					<div class="o-field">
						<input class="c-field c-field--label" type="date" name="until" value="{{rq.until}}" placeholder="2017-01-18">
					</div>
					<div class="o-field">
						<input class="c-field c-field--label" type="time" step="1" name="untilTime" value="{{rq.untilTime}}" placeholder="21:00:00">
					</div>
				</div>
			</div>
			<label class="c-label">
				Room:
				<input class="c-field c-field--label" type="text" name="roomFilter" value="{{rq.roomFilter}}">
			</label>
			<label class="c-label">
				Nickname:
				<input class="c-field c-field--label" type="text" name="nicknameFilter" value="{{rq.nicknameFilter}}">
			</label>
                        <label class="c-label">
				Sort results by:
				<select name="sort" class="c-field" >
                                    <option value="RELEVANCE" {{selected rq.sort "RELEVANCE"}}>Relevance</option>
                                    <option value="TIME_DESC" {{selected rq.sort "TIME_DESC"}}>Newest first</option>
                                    <option value="TIME_ASC" {{selected rq.sort "TIME_ASC"}}>Oldest first</option>
                                </select>
			</label>
			<div class="o-form-element">
				<input type="submit" class="c-button c-button--warning" value="Search">
			</div>
		</form>
		{{#if postsMV.posts }}
		<div class="jb3-posts">
			{{#each postsMV.posts}}
			<div id="{{this.id}}" class="jb3-post">
				<a class="jb3-post-time" href="/archives/post/{{this.id}}">{{format-datetime this.time}}</a> <span class="jb3-post-room">{{{this.cleanedRoom}}}</span> <span class="jb3-post-nickname">{{{this.cleanedNickname}}}</span> <span class="jb3-post-message">{{format-post-message this}}</span>
			</div>
			{{/each}}
		</div>
		<div class="c-pagination">
			{{#if postsMV.hasPrevious}}
			<div class="c-pagination__controls c-pagination__controls--backward">
				<button id="button-previous-page" class="c-pagination__control">‹</button>
			</div>
			{{/if}} {{#if postsMV.hasNext}}
			<div class="c-pagination__controls c-pagination__controls--forward">
				<button id="button-next-page" class="c-pagination__control">›</button>
			</div>
			{{/if}}
		</div>
		{{/if}}
	</section>
	</main>
        <script src="/webjars/jquery/3.5.1/jquery.js" defer></script>
        <script src="/assets/common/common.js" defer></script>
        <script src="/assets/common/post-to-html.js" defer></script>
        <script src="/assets/archives/archives.js" defer></script></body>
</html>